<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=1, user-scalable=no"
  >
  <title>RainbowGold Tap</title>
  <meta name="theme-color" content="#1b103a">

  <!-- CSS de tu juego -->
  <link rel="stylesheet" href="css/styles.css">

  <!-- Preloads Ãºtiles -->
  <link rel="preload" as="image" href="assets/img/Coin.png" imagesrcset="assets/img/Coin.png 1x, assets/img/Coin@2x.png 2x">
  <link rel="preload" as="image" href="assets/img/brand-mark-wg-128.png">

  <!-- CSP: permite tu API + Worldcoin verify -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' 'unsafe-inline' 'unsafe-eval';
    style-src 'self' 'unsafe-inline';
    img-src 'self' data:;
    font-src 'self';
    connect-src 'self' https://rainbowgold-api.vercel.app https://developer.worldcoin.org https://verify.worldcoin.org https://id.worldcoin.org;
    media-src 'self';
  ">

  <meta http-equiv="Referrer-Policy" content="no-referrer">
  <meta http-equiv="Permissions-Policy" content="
    accelerometer=(),
    camera=(),
    geolocation=(),
    gyroscope=(),
    magnetometer=(),
    microphone=(),
    payment=(),
    usb=()
  ">
</head>
<body>
  <!-- SPLASH -->
  <div id="splash" class="splash" aria-busy="true" aria-label="Cargando RainbowGold">
    <div class="splash__logo">
      <img src="assets/img/logo-splash.png" alt="RainbowGold" data-critical fetchpriority="high" decoding="async">
    </div>

    <button id="wldSignIn"
      style="margin-top:18px;padding:12px 16px;border-radius:12px;
             background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
             color:#fff;font-weight:700;cursor:pointer">
      Entrar con World ID
    </button>

    <div id="wldState" class="splash__hint" style="margin-top:10px;opacity:1;transform:translateY(0)">
      Preparando tu sesiÃ³n<span class="dots"><span>.</span><span>.</span><span>.</span></span>
    </div>
  </div>

  <!-- ==========================================================
       Config global (ANTES de cargar el script de minikit)
       ========================================================== -->
  <script>
    // ðŸ”§ AJUSTA si usas otro dominio/API
    window.API_BASE = "https://rainbowgold-api.vercel.app";
    window.WORLD_ID_APP_ID = "app_33bb8068826b85d4cd56d2ec2caba7cc";
    window.WORLD_ID_ACTION = "rainbowgold-login";
  </script>

  <!-- Tu lÃ³gica de juego puede ir aquÃ­ si la necesitas -->
  <!-- <script src="js/game-logic.js"></script> -->
  <!-- <script src="js/payments.js"></script> -->

  <!-- Script principal (sin mock, puente nativo) -->
  <script type="module" src="js/minikit-config.js"></script>
</body>
</html>
